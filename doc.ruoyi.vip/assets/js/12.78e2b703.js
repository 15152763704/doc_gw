(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{413:function(t,a,n){"use strict";n.r(a);var s=n(56),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),n("h2",{attrs:{id:"应用生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#应用生命周期"}},[t._v("#")]),t._v(" 应用生命周期")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("支持如下应用生命周期函数")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("函数名")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("onLaunch")]),t._v(" "),n("td",[t._v("当uni-app初始化完成时触发（全局只触发一次）")])]),t._v(" "),n("tr",[n("td",[t._v("onShow")]),t._v(" "),n("td",[t._v("当uni-app启动，或从后台进入前台显示")])]),t._v(" "),n("tr",[n("td",[t._v("onHide")]),t._v(" "),n("td",[t._v("当uni-app从前台进入后台")])]),t._v(" "),n("tr",[n("td",[t._v("onError")]),t._v(" "),n("td",[t._v("当uni-app报错时触发")])]),t._v(" "),n("tr",[n("td",[t._v("onUniNViewMessage")]),t._v(" "),n("td",[t._v("对nvue页面发送的数据进行监听")])]),t._v(" "),n("tr",[n("td",[t._v("onUnhandledRejection")]),t._v(" "),n("td",[t._v("对未处理的 Promise 拒绝事件监听函数")])]),t._v(" "),n("tr",[n("td",[t._v("onPageNotFound")]),t._v(" "),n("td",[t._v("页面不存在监听函数")])]),t._v(" "),n("tr",[n("td",[t._v("onThemeChange")]),t._v(" "),n("td",[t._v("监听系统主题变化")])])])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("p",[t._v("应用生命周期仅可在"),n("code",[t._v("App.vue")]),t._v("中监听，在其它页面监听无效。")])]),t._v(" "),n("h2",{attrs:{id:"页面生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面生命周期"}},[t._v("#")]),t._v(" 页面生命周期")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("支持如下页面生命周期函数")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("函数名")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("onInit")]),t._v(" "),n("td",[t._v("监听页面初始化")])]),t._v(" "),n("tr",[n("td",[t._v("onLoad")]),t._v(" "),n("td",[t._v("监听页面加载")])]),t._v(" "),n("tr",[n("td",[t._v("onShow")]),t._v(" "),n("td",[t._v("监听页面显示")])]),t._v(" "),n("tr",[n("td",[t._v("onReady")]),t._v(" "),n("td",[t._v("监听页面初次渲染完成")])]),t._v(" "),n("tr",[n("td",[t._v("onHide")]),t._v(" "),n("td",[t._v("监听页面隐藏")])]),t._v(" "),n("tr",[n("td",[t._v("onUnload")]),t._v(" "),n("td",[t._v("监听页面卸载")])]),t._v(" "),n("tr",[n("td",[t._v("onResize")]),t._v(" "),n("td",[t._v("监听窗口尺寸变化")])]),t._v(" "),n("tr",[n("td",[t._v("onPullDownRefresh")]),t._v(" "),n("td",[t._v("监听用户下拉动作，一般用于下拉刷新")])]),t._v(" "),n("tr",[n("td",[t._v("onReachBottom")]),t._v(" "),n("td",[t._v("页面上拉触底事件的处理函数")])]),t._v(" "),n("tr",[n("td",[t._v("onTabItemTap")]),t._v(" "),n("td",[t._v("点击 tab 时触发")])]),t._v(" "),n("tr",[n("td",[t._v("onShareAppMessage")]),t._v(" "),n("td",[t._v("用户点击右上角分享")])]),t._v(" "),n("tr",[n("td",[t._v("onPageScroll")]),t._v(" "),n("td",[t._v("监听页面滚动")])]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarButtonTap")]),t._v(" "),n("td",[t._v("监听原生标题栏按钮点击事件")])]),t._v(" "),n("tr",[n("td",[t._v("onBackPress")]),t._v(" "),n("td",[t._v("监听页面返回")])]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarSearchInputChanged")]),t._v(" "),n("td",[t._v("监听原生标题栏搜索输入框输入内容变化事件")])]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarSearchInputConfirmed")]),t._v(" "),n("td",[t._v("监听原生标题栏搜索输入框搜索事件，用户点击软键盘上的“搜索”按钮时触发")])]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarSearchInputClicked")]),t._v(" "),n("td",[t._v("监听原生标题栏搜索输入框点击事件")])]),t._v(" "),n("tr",[n("td",[t._v("onShareTimeline")]),t._v(" "),n("td",[t._v("监听用户点击右上角转发到朋友圈")])]),t._v(" "),n("tr",[n("td",[t._v("onAddToFavorites")]),t._v(" "),n("td",[t._v("监听用户点击右上角收藏")])])])]),t._v(" "),n("p",[n("code",[t._v("onInit")]),t._v("使用注意")]),t._v(" "),n("ul",[n("li",[t._v("仅百度小程序基础库 3.260 以上支持 onInit 生命周期")]),t._v(" "),n("li",[t._v("其他版本或平台可以同时使用 onLoad 生命周期进行兼容，注意避免重复执行相同逻辑")]),t._v(" "),n("li",[t._v("不依赖页面传参的逻辑可以直接使用 created 生命周期替代")])]),t._v(" "),n("p",[n("code",[t._v("onReachBottom")]),t._v("使用注意，可在"),n("code",[t._v("pages.json")]),t._v("里定义具体页面底部的触发距离"),n("code",[t._v("onReachBottomDistance")]),t._v("，比如设为"),n("code",[t._v("50")]),t._v("，那么滚动页面到距离底部"),n("code",[t._v("50px")]),t._v("时，就会触发"),n("code",[t._v("onReachBottom")]),t._v("事件。")]),t._v(" "),n("p",[t._v("如使用"),n("code",[t._v("scroll-view")]),t._v("导致页面没有滚动，则触底事件不会被触发。"),n("code",[t._v("scroll-view")]),t._v("滚动到底部的事件请参考"),n("code",[t._v("scroll-view")]),t._v("的文档")]),t._v(" "),n("p",[n("code",[t._v("onPageScroll")]),t._v("（监听滚动、滚动监听、滚动事件）参数说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("scrollTop")]),t._v(" "),n("td",[t._v("Number")]),t._v(" "),n("td",[t._v("页面在垂直方向已滚动的距离（单位px）")])])])]),t._v(" "),n("ul",[n("li",[t._v("onPageScroll里不要写交互复杂的js，比如频繁修改页面。因为这个生命周期是在渲染层触发的，在非h5端，js是在逻辑层执行的，两层之间通信是有损耗的。如果在滚动过程中，频发触发两层之间的数据交换，可能会造成卡顿。")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPageScroll")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//nvue暂不支持滚动监听，可用bindingx代替")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"滚动距离为："')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[n("code",[t._v("onTabItemTap")]),t._v("返回的json对象说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("index")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("被点击tabItem的序号，从0开始")])]),t._v(" "),n("tr",[n("td",[t._v("pagePath")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("被点击tabItem的页面路径")])]),t._v(" "),n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("被点击tabItem的按钮文字")])])])]),t._v(" "),n("ul",[n("li",[t._v("onTabItemTap常用于点击当前tabitem，滚动或刷新当前页面。如果是点击不同的tabitem，一定会触发页面切换。")]),t._v(" "),n("li",[t._v("如果想在App端实现点击某个tabitem不跳转页面，不能使用onTabItemTap，可以使用plus.nativeObj放一个区块盖住原先的tabitem，并拦截点击事件。")]),t._v(" "),n("li",[t._v("支付宝小程序平台onTabItemTap表现为点击非当前tabitem后触发，因此不能用于实现点击返回顶部这种操作")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onTabItemTap")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// e的返回格式为json对象： {"index":0,"text":"首页","pagePath":"pages/index/index"}')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("p",[n("code",[t._v("onNavigationBarButtonTap")]),t._v("参数说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("index")]),t._v(" "),n("td",[t._v("Number")]),t._v(" "),n("td",[t._v("原生标题栏按钮数组的下标")])])])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onNavigationBarButtonTap")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// e的返回格式为json对象：{"text":"测试","index":0}')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("p",[n("code",[t._v("onBackPress")]),t._v("回调参数对象说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("from")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("触发返回行为的来源：'backbutton'——左上角导航栏按钮及安卓返回键；'navigateBack'——uni.navigateBack() 方法。支付宝小程序端不支持返回此字段")])])])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBackPress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'from:'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("h2",{attrs:{id:"组件生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件生命周期"}},[t._v("#")]),t._v(" 组件生命周期")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("组件支持的生命周期，与vue标准组件的生命周期相同。这里没有页面级的onLoad等生命周期：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("函数名")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("beforeCreate")]),t._v(" "),n("td",[t._v("在实例初始化之前被调用")])]),t._v(" "),n("tr",[n("td",[t._v("created")]),t._v(" "),n("td",[t._v("在实例创建完成后被立即调用")])]),t._v(" "),n("tr",[n("td",[t._v("beforeMount")]),t._v(" "),n("td",[t._v("在挂载开始之前被调用")])]),t._v(" "),n("tr",[n("td",[t._v("mounted")]),t._v(" "),n("td",[t._v("挂载到实例上去之后调用")])]),t._v(" "),n("tr",[n("td",[t._v("beforeUpdate")]),t._v(" "),n("td",[t._v("数据更新时调用")])]),t._v(" "),n("tr",[n("td",[t._v("updated")]),t._v(" "),n("td",[t._v("由于数据更改时调用")])]),t._v(" "),n("tr",[n("td",[t._v("beforeDestroy")]),t._v(" "),n("td",[t._v("实例销毁之前调用")])]),t._v(" "),n("tr",[n("td",[t._v("destroyed")]),t._v(" "),n("td",[t._v("实例销毁后调用")])])])])])}),[],!1,null,null,null);a.default=v.exports}}]);